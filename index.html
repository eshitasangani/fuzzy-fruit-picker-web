<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Starter Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->

    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- <script src="../../assets/js/ie-emulation-modes-warning.js"></script> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Fuzzy Fruit Picker</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#intro">Introduction</a></li>
            <li><a href="#obj">Project Objective</a></li>
            <li><a href="#design">Design</a></li>
            <li><a href="#drawings">Drawings</a></li>
            <li><a href="#testing">Testing</a></li>
            <li><a href="#result">Result</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

      <div class="starter-template">
        <h1>Fuzzy Fruit Picker</h1>
        <p class="lead"><br>Mattie Lee (mll264), Eshita Sangani (ens57), Janeth Manyalla (jim59)
        </p>
      </div>

      <hr>
      <div class="center-block">
          <iframe width="640" height="360" src="https://www.youtube.com/embed?v=et91Gea6CPk" frameborder="0" allowfullscreen></iframe>
          <h4 style="text-align:center;">Demonstration Video</h4>
      </div>

      <hr id="intro">

      <div style="text-align:center;">
          <h2>Introduction</h2>
          <p style="text-align: left; padding: 0px 30px;">


            Using a Raspberry Pi, this project utilizes the PiCamera for color detection of various fruits 
            (as puff balls) using OpenCV. Once the fruit is identified, the meArm robotic arm uses inverse 
            kinematics to sort them into different bins, by enabling precise control of its servo motors. 
            The code also incorporates GPIO event handling, allowing the user to exit the program or shut 
            down the Raspberry Pi using external buttons.

              </p>
      <!-- </div> -->

      <hr id='obj'>

      <div class="row">
          <div class="col-md-4" style="text-align:center;">
          <img class="img-rounded" src="pics/fuzzy.png" alt="Generic placeholder image" width="240" height="240">
          </div>
          <div class="col-md-8" style="font-size:18px;">
          <h2> Objective</h2>
          <ul>
              <li>to create a robotic arm that used machine learning to identify different colored “fruits” (colored puff balls) and sort them into bins.</li>
                <!-- <li>some other important objectives.</li>
            <li>some not-that-important objectives.</li> -->
          </ul>
          </div>
      </div>

      <hr id="design">

      <div style="text-align:center;">
        <h2>Design + Testing</h2>
        <p style="text-align: justify; padding: 0px 30px;">

          

          After having a rough idea and sketch of what we were going to build, our project went 
          through different stages of design and testing that are outlined in the phases below.

        </p>

        <h3>Phase I: MeArm Robot Assembly & Servo Testing</h3>
        <p style="text-align: justify; padding: 0px 30px;">


          <p>
            To enable our picking mechanism, we decided to use the MeArm Robot v1.0 kit. We chose the MeArm robot design 
          because it is a simple and sturdy enough structure for the purpose of our project, which used colored small, 
          fluffy, light-weight pom poms to represent different types of fruits. The arm is designed with three Degrees 
          of Freedom (3DOF), a square-like base with a pivot center to rotate the arm from left to right accordingly and 
          elbow and shoulder pivots to elongate or shorten the gripper reach around a three-dimensional coordinate space. 
          We used four standard servo motors with an angle range from (-π, π) radians for the three pivots and the gripper. 
          </p>

          <p> 
            <img src="pics/firstarm.png" alt="..." width="20%" />
        </p>

          <p>
            After consultation with Prof. Skovira, we were able to acquire the MeArm robot kit from a previous project that 
          used a similar design but was missing a gripper, which we were then able to obtain through laser-cutting a 
          plastic sheet using available open-source CAD design for the v1.0 kit. Since most of the arm was already 
          pre-assembled, we disassembled parts of the arm to test the servo motors and also assembled part of the 
          gripper and tested its functionality. After testing the servos, we assembled the full robot arm and configured 
          the servo positions to particular angle degrees to ensure that the arm does not stretch and withdraw that it 
          collides with its base or other areas beyond its reach.
          </p>

          <h3>Phase II: Designing & constructing the testing environment</h3>
          <p style="text-align: justify; padding: 0px 30px;">

  
            <p>
              Since our project required the arm to move around, we needed to attach the robot base to a heavier 
              base to keep it stable during implementation; therefore, we screwed the base to the edge of a 
              rectangular piece of wood, which also provided an arena where we could place the fruits and buckets 
              that the fruits will go into when sorted. For fruit detection, we used a Raspberry Pi Camera module 
              that needed to be placed at an overhead position to capture the color and position of the fruits on 
              the testing space. For that, we used a vertical wooden structure that was placed some distance in front 
              of the arm position and attached a horizontal overhang that we used to hold the camera below and the 
              raspberry pi, battery pack (when needed), and breadboard with circuit connections on top. 

            </p>

           
            <p style="text-align: justify; padding: 0px 30px;">
            <p>
              Since the OpenCV color HSV masks we created for the fruit colors were tested on a white background, 
              we painted the testing ground white to enable accurate color detection. We then tested the 
              color_detection.py code to ensure it worked as expected and adjusted accordingly for accurate results.

            </p>
          
        </p>




      </div>



    <!-- <hr id='drawings'>

      <div style="text-align:center;">
              <h2>Drawings</h2>
              <p style="text-align: left;padding: 0px 30px;">TEXT</p>
      </div> -->

    <hr id='testing'>

      <div style="text-align:center;">
              <h2>Testing</h2>
              <p style="text-align: left;padding: 0px 30px;">TEXT</p>
      </div>

    <hr id='result'>

      <div style="text-align:center;">
              <h2>Result</h2>
              <p style="text-align: left;padding: 0px 30px;">TEXT</p>
      </div>

    <hr>

    <div class="row" style="text-align:center;">
          <h2>Work Distribution</h2>
          <div style="text-align:center;">
              <img class="img-rounded" src="pics/group.png" alt="Proj" style="width:80%;">
              <h4>Project group picture</h4>
          </div>
          <div class="col-md-6" style="font-size:14px">
              <img class="img-rounded" src="pics/eshita.png" alt="Eshita" width="240" height="240">
              <h3>Eshita</h3>
              <p class="lead">ens57@cornell.edu</p>
              <p>TEXT 
          </div>
          <div class="col-md-6" style="font-size:14px">
              <img class="img-rounded" src="pics/b.png" alt="Mattie" width="240" height="240">
              <h3>Mattie</h3>
              <p class="lead">mll264@cornell.edu</p>
              <p>TEXT
          </div>
          <div class="col-md-6" style="font-size:14px">
            <img class="img-rounded" src="pics/a.png" alt="Janeth" width="240" height="240">
            <h3>Janeth</h3>
            <p class="lead">jim59@cornell.edu</p>
            <p>TEXT
        </div> 
      </div>
    <hr>
      <div style="font-size:18px">
          <h2>Parts List</h2>
          <ul>
              <li>Raspberry Pi 4</li>
              <li>Adafruit PiTFT</li>
              <li>MeArm Robot Arm</li>
              <li>Raspberry Pi Camera Module</li>
              <li>GPIO Ribbon Cable</li>
              <li>4 standard high torque servos</li>
              <li>2 Breadboards</li>
              <li>Raspberry PI B+ GPIO Adapter Plate 40-Pin for Breadboard Expansion Board</li>
              <li>Bag of Fuzzy Balls ($10)</li>
              <li>Resistors (10kΩ + 1kΩ) + Wires</li>
              <li>Wooden structure</li>
              <!-- <li>Raspberry Pi Camera V2 $25.00</li>
              <a href="https://www.adafruit.com/product/1463"><li>NeoPixel Ring - $9.95</li></a>
              <li>LEDs, Resistors and Wires - Provided in lab</li> -->
          </ul>
          <h4>Total: $10</h4>
      </div>
      <hr>
      <div style="font-size:18px">
          <h2>References</h2>
          <a href="https://www.instructables.com/MeArm-Robot-Arm-Your-Robot-V10/">MeArm Robot Arm Instructable</a><br>
          <a href="https://github.com/aquila12/me-arm-ik">MeArm inverse kinematics code</a><br>
          <a href="https://docs.opencv.org/3.4/d9/d61/tutorial_py_morphological_ops.html">OpenCV morphological transformations</a><br>
          <a href="http://abyz.co.uk/rpi/pigpio/">Pigpio Library</a><br>
          <a href="https://www.opencv-srf.com/2010/09/object-detection-using-color-seperation.html">OpenCV object tracking code</a><br>
          <a href="https://www.geeksforgeeks.org/multiple-color-detection-in-real-time-using-python-opencv/#">OpenCV Color detection code</a><br>
          <a href="https://sourceforge.net/p/raspberry-gpio-python/wiki/Home/">Standard Servo Documentation</a><br>

          
          

      </div>

    <hr>

      <div class="row">
              <h2>Code Appendix</h2>
              <pre><code>
// Hello World.c
int main(){
  printf("Hello World.\n");
}
              </code></pre>
      </div>

    </div><!-- /.container -->




    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->
  </body>
</html>
